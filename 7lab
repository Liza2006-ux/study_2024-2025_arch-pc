---
## Front matter
title: "Отчёт по лабораторной работе №3"
subtitle: "Операционные системы"
author: "Волчкова Eлизавета Дмитриевна"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian

polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: IBM Plex Serif
romanfont: IBM Plex Serif
sansfont: IBM Plex Sans
monofont: IBM Plex Mono
mathfont: STIX Two Math
mainfontoptions: Ligatures=Common,Ligatures=TeX,Scale=0.94
romanfontoptions: Ligatures=Common,Ligatures=TeX,Scale=0.94
sansfontoptions: Ligatures=Common,Ligatures=TeX,Scale=MatchLowercase,Scale=0.94
monofontoptions: Scale=MatchLowercase,Scale=0.94,FakeStretch=0.9
mathfontoptions:
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---


# Цель работы
 	Ознакомление с файловой системой Linux, её структурой, именами и содержанием каталогов. Приобретение практических навыков по применению команд для работы с файлами и каталогами, по управлению процессами (и работами), по проверке использования диска и обслуживанию файловой системы. 5.2. Указания к работе 5.2.1. Команды для работы с файлами и каталогами Для создания текстового файла можно использовать команду touch. 
Формат команды: 1 touch имя-файла Для просмотра файлов небольшого размера можно использовать команду cat. Формат команды: 1 cat имя-файла Для просмотра файлов постранично удобнее использовать команду less. Формат команды: 1 less имя-файла Следующие клавиши используются для управления процессом просмотра: – Space — переход к следующей странице, – ENTER — сдвиг вперёд на одну строку, – b — возврат на предыдущую страницу, – h — обращение за подсказкой, – q — выход из режима просмотра файла. Команда head выводит по умолчанию первые 10 строк файла. Формат команды: 1 head [-n] имя-файла, где n — количество выводимых строк. Команда tail выводит умолчанию 10 последних строк файла. Формат команды: 1 tail [-n] имя-файла, где n — количество выводимых строк. Кулябов Д. С. и др.
 	Операционные системы 47 5.2.2. Копирование файлов и каталогов Команда cp используется для копирования файлов и каталогов. Формат команды: 1 cp [-опции] исходный_файл целевой_файл Примеры: 1. Копирование файла в текущем каталоге. Скопировать файл ~/abc1 в файл april и в файл may: 1 cd 2 touch abc1 3 cp abc1 april 4 cp abc1 may 2. Копирование нескольких файлов в каталог. 
Скопировать файлы april и may в каталог monthly: 1 mkdir monthly 2 cp april may monthly 3. Копирование файлов в произвольном каталоге.Скопировать файл monthly/may в файл с именем june: 1 cp monthly/may monthly/june 2 ls monthly Опция i в команде cp выведет на экран запрос подтверждения о перезаписи файла. Для рекурсивного копирования каталогов, содержащих файлы, используется команда cp с опцией r. Примеры: 1. Копирование каталогов в текущем каталоге. Скопировать каталог monthly в каталог monthly.00: 1 mkdir monthly.00 2 cp -r monthly monthly.00 2. Копирование каталогов в произвольном каталоге. 
Скопировать каталог monthly.00 в каталог /tmp 1 cp -r monthly.00 /tmp 5.2.3. Перемещение и переименование файлов и каталогов Команды mv и mvdir предназначены для перемещения и переименования файлов и каталогов. Формат команды mv: 48 Лабораторная работа № 5. Анализ файловой системы Linux. Команды для работы … 1 mv [-опции] старый_файл новый_файл 
Примеры: 1. Переименование файлов в текущем каталоге. Изменить название файла april на july в домашнем каталоге: 1 cd 2 mv april july 2. Перемещение файлов в другой каталог. Переместить файл july в каталог monthly.00: 1 mv july monthly.00 2 ls monthly.00 Результат: 1 april july june may Если необходим запрос подтверждения о перезаписи файла, то нужно использовать опцию i. 3. Переименование каталогов в текущем каталоге. 
Переименовать каталог monthly.00 в monthly.01 1 mv monthly.00 monthly.01 4. Перемещение каталога в другой каталог. Переместить каталог monthly.01в каталог reports: 1 mkdir reports 2 mv monthly.01 reports 5. Переименование каталога, не являющегося текущим. Переименовать каталог reports/monthly.01 в reports/monthly: 1 mv reports/monthly.01 reports/monthly 5.2.4. 
Права доступа Каждый файл или каталог имеет права доступа (табл. 5.1). В сведениях о файле или каталоге указываются: – тип файла (символ (-) обозначает файл, а символ (d) — каталог); – права для владельца файла (r — разрешено чтение, w — разрешена запись, x — разрешено выполнение, - — право доступа отсутствует); – права для членов группы (r — разрешено чтение, w — разрешена запись, x — разрешено выполнение, - — право доступа отсутствует); – права для всех остальных (r — разрешено чтение, w — разрешена запись, x — разрешено выполнение, - — право доступа отсутствует). Примеры: Кулябов Д. С. и др. Операционные системы 49 Таблица 5.1
 	Права доступа Право Обозначение Файл Каталог Чтение r Разрешены просмотр и копирование Разрешён просмотр списка входящих файлов Запись w Разрешены изменение и переименование Разрешены создание и удаление файлов Выполнение x Разрешено выполнение файла (скриптов и/или программ) Разрешён доступ в каталог и есть возможность сделать его текущим 1. Для файла (крайнее левое поле имеет значение -) владелец файла имеет право на чтение и запись (rw-), группа, в которую входит владелец файла, может читать файл (r--), все остальные могут читать файл (r--): 1 -rw-r--r-- 2. 

Только владелец файла имеет право на чтение, изменение и выполнение файла: 1 -rwx------ 3. Владелец каталога (крайнее левое поле имеет значение d) имеет право на просмотр, изменение и доступа в каталог, члены группы могут входить и просматривать его, все остальные — только входить в каталог: 1 drwxr-x--x 5.2.5. 
Изменение прав доступа Права доступа к файлу или каталогу можно изменить, воспользовавшись командой chmod. 
Сделать это может владелец файла (или каталога) или пользователь с правами администратора. Формат команды: 1 chmod режим имя_файла Режим (в формате команды) имеет следующие компоненты структуры и способ записи: = установить право - лишить права + дать право r чтение w запись 50 Лабораторная работа № 5. 
Анализ файловой системы Linux. Команды для работы … x выполнение u (user) владелец файла g (group) группа, к которой принадлежит владелец файла o (others) все остальные В работе с правами доступа можно использовать их цифровую запись (восьмеричное значение) вместо символьной (табл. 5.2). 
Таблица 5.2 Формы записи прав доступа Двоичная Восьмеричная Символьная 111 7 rwx 110 6 rw101 5 r-x 100 4 r-- 011 3 -wx 010 2 -w001 1 --x 000 0 ---
 Примеры: 1. Требуется создать файл ~/may с правом выполнения для владельца: 1 cd 2 touch may 3 ls -l may 4 chmod u+x may 5 ls -l may 2. Требуется лишить владельца файла ~/may права на выполнение: 1 chmod u-x may 2 ls -l may 3. 
Создал каталог monthly с запретом на чтение для членов группы и всех остальных пользователей: 1 cd 2 mkdir monthly 3 chmod g-r, o-r monthly 4. Требуется создать файл ~/abc1 с правом записи для членов группы: 1 cd 2 touch abc1 3 chmod g+w abc1 Кулябов Д. С. и др. Операционные системы 51 5.2.6. Анализ файловой системы Файловая система в Linux состоит из фалов и каталогов. Каждому физическому носителю соответствует своя файловая система. Существует несколько типов файловых систем. 
Перечислим наиболее часто встречающиеся типы: – ext2fs (second extended filesystem); – ext2fs (third extended file system); – ext4 (fourth extended file system); – ReiserFS; – xfs; – fat (file allocation table); – ntfs (new technology file system). 
Для просмотра используемых в операционной системе файловых систем можно воспользоваться командой mount без параметров. В результате её применения можно получить примерно следующее: 1 mount 2 3 proc on /proc type proc (rw) 4 sysfs on /sys type sysfs (rw,nosuid,nodev,noexec) 5 udev on /dev type tmpfs (rw,nosuid) 6 devpts on /dev/pts type devpts (rw,nosuid,noexec) 7 /dev/sda1 on /mnt/a type ext3 (rw,noatime) 8 /dev/sdb2 on /mnt/docs type reiserfs (rw,noatime) 9 shm on /dev/shm type tmpfs (rw,noexec,nosuid,nodev) 10 usbfs on /proc/bus/usb type usbfs 11 (rw,noexec,nosuid,devmode=0664,devgid=85) 12 binfmt_misc on /proc/sys/fs/binfmt_misc type binfmt_misc 13 (rw,noexec,nosuid,nodev) 14 nfsd on /proc/fs/nfs type nfsd (rw,noexec,nosuid,nodev) 15 
В данном случае указаны имена устройств, названия соответствующих им точек монтирования (путь), тип файловой системы и параметрами монтирования. В контексте команды mount устройство — специальный файл устройства, с помощью которого операционная система получает доступ к аппаратному устройству. Файлы устройств обычно располагаются в каталоге /dev, имеют сокращённые имена (например, sdaN, sdbN или hdaN, hdbN, где N — порядковый номер устройства, sd — устройства SCSI, hd — устройства MFM/IDE).
 	Точка монтирования — каталог (путь к каталогу), к которому присоединяются файлы устройств. Другой способ определения смонтированных в операционной системе файловых систем — просмотр файла/etc/fstab. 
Сделал с помощью команды cat: 1 cat /etc/fstab 2 3 /dev/hda1 / ext2 defaults 1 1 4 /dev/hda5 /home ext2 defaults 1 2 5 /dev/hda6 swap swap defaults 0 0 6 /dev/hdc /mnt/cdrom auto umask=0,user,noauto,ro,exec,users 0 0 52 Лабораторная работа № 5. Анализ файловой системы Linux. 
Команды для работы … 7 none /mnt/floppy supermount dev=/dev/fd0,fs=ext2:vfat,--, 8 sync,umask=0 0 0 9 none /proc proc defaults 0 0 10 none /dev/pts devpts mode=0622 0 0 В каждой строке этого файла указано: – имя устройство; – точка монтирования; – тип файловой системы; – опции монтирования; – специальные флаги для утилиты dump; – порядок проверки целостности файловой системы с помощью утилиты fsck. Для определения объёма свободного пространства на файловой системе воспользовался командой df, которая выведет на экран список всех файловых систем в соответствии с именами устройств, с указанием размера и точки монтирования. 

Например: 1 df 2 3 Filesystem 1024-blocks Used Available Capacity Mounted on 4 /dev/hda3 297635 169499 112764 60% / С помощью команды fsck можно проверить (а в ряде случаев восстановить) целостность файловой системы: Формат команды: 1 fsck имя_устройства 
Пример: 1 fsck /dev/sda1 5.3. 
# Последовательность выполнения работы


1. Выполнил все примеры, приведённые в первой части описания лабораторной работы. 2. Выполнил следующие действия, зафиксировав в отчёте по лабораторной работе используемые при этом команды и результаты их выполнения: 
2.1. Скопировал файл /usr/include/sys/io.h в домашний каталог и назовите его equipment.
 	Если файла io.h - использовал любой другой файл в каталоге /usr/include/sys/ вместо него. 2.2. В домашнем каталоге создал директорию ~/ski.plases. 2.3. Переместил файл equipment в каталог ~/ski.plases. 2.4. Переименовал файл ~/ski.plases/equipment в ~/ski.plases/equiplist. 2.5. Создал в домашнем каталоге файл abc1 и скопировал его в каталог ~/ski.plases, назвал его equiplist2. 2.6. 
Создал каталог с именем equipment в каталоге ~/ski.plases. 2.7. Переместил файлы ~/ski.plases/equiplist и equiplist2 в каталог ~/ski.plases/equipment. 2.8. Создал и переместил каталог ~/newdir в каталог ~/ski.plases и назовите его plans. Кулябов Д. С. и др. Операционные системы 53 3.
 	Определил пции команды chmod, необходимые для того, чтобы присвоить перечисленным ниже файлам выделенные права доступа, считая, что в начале таких прав нет: 3.1. drwxr--r-- ... australia 3.2. drwx--x--x ... play 3.3. -r-xr--r-- ... my_os 3.4. -rw-rw-r-- ... feathers

 При необходимости создал нужные файлы. 4. Проделал приведённые ниже упражнения, записывая в отчёт по лабораторной работе используемые при этом команды: 4.1. 
Просмотрел содержимое файла /etc/password. 4.2. Скопировал файл ~/feathers в файл ~/file.old. 4.3. Переместил файл ~/file.old в каталог ~/play. 4.4. Скопировал каталог ~/play в каталог ~/fun. 4.5. Переместите каталог ~/fun в каталог ~/play и назовите его games. 4.6. Лишил владельца файла ~/feathers права на чтение. 4.7.

# Вывод
Целью работы - Ознакомление с файловой системой Linux, её структурой, именами и содержанием каталогов. Приобретение практических навыков по применению команд для работы с файлами и каталогами, по управлению процессами (и работами), по проверке использования диска и обслуживанию файловой системы. 5.2. Указания к работе 5.2.1. Команды для работы с файлами и каталогами Для создания текстового файла можно использовать команду touch, - всё усвоил.
